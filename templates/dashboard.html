{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block extra_head %}{% endblock %}
{% block content %}
  {% with active="dashboard" %}{% endwith %}

  <div class="d-flex align-items-center justify-content-between flex-wrap flex-md-nowrap mb-4">
    <h1 class="h3 mb-0">Dashboard</h1>
    <div class="btn-toolbar">
      <div class="btn-group me-2">
        <a href="#" class="btn btn-sm btn-outline-primary">Export</a>
        <a href="#" class="btn btn-sm btn-outline-secondary">Refresh</a>
      </div>
    </div>
  </div>

  <!-- KPI cards -->
  <div class="row g-3">
    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <span class="text-body-secondary">Total Staff</span>
            <i class="bi bi-people fs-4"></i>
          </div>
          <div class="display-6 fw-semibold mt-2">1,248</div>
          <div class="text-success small mt-1">+2.1% since last month</div>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <span class="text-body-secondary">Total Students</span>
            <i class="bi bi-mortarboard fs-4"></i>
          </div>
          <div class="display-6 fw-semibold mt-2">23,904</div>
          <div class="text-success small mt-1">+0.8% since last term</div>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <span class="text-body-secondary">Active Schools</span>
            <i class="bi bi-building fs-4"></i>
          </div>
          <div class="display-6 fw-semibold mt-2">110</div>
          <div class="text-body-secondary small mt-1">as of today</div>
        </div>
      </div>
    </div>

    <div class="col-12 col-sm-6 col-lg-3">
      <div class="card shadow-sm h-100">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <span class="text-body-secondary">Data Health</span>
            <i class="bi bi-heart-pulse fs-4"></i>
          </div>
          <div class="display-6 fw-semibold mt-2">97%</div>
          <div class="text-warning small mt-1">3 schools need attention</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent activity / placeholder table -->
  <div class="card mt-4 shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span class="fw-semibold">Recent Updates</span>
      <a class="btn btn-sm btn-outline-secondary" href="#">View all</a>
    </div>
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th scope="col">When</th>
            <th scope="col">Entity</th>
            <th scope="col">Action</th>
            <th scope="col">By</th>
            <th scope="col" class="text-end">Details</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>2025-11-08 09:52</td>
            <td>Staff</td>
            <td>Created</td>
            <td>kiri.ake</td>
            <td class="text-end"><a class="btn btn-sm btn-outline-primary" href="#">Open</a></td>
          </tr>
          <tr>
            <td>2025-11-08 09:34</td>
            <td>Student</td>
            <td>Updated</td>
            <td>newton.k</td>
            <td class="text-end"><a class="btn btn-sm btn-outline-primary" href="#">Open</a></td>
          </tr>
          <tr>
            <td>2025-11-08 08:10</td>
            <td>School</td>
            <td>Sync</td>
            <td>system</td>
            <td class="text-end"><a class="btn btn-sm btn-outline-primary" href="#">Logs</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
